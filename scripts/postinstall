#!/usr/bin/env node

const fs = require( 'fs' );
const path = require( 'path' );

const basePath = __dirname.replace( /(\\|\/)scripts$/, '' )

addDefaultFiles( 'blacklist.txt', '' )
addDefaultFiles( 'channels.db', '{}' )
addDefaultFiles( 'translations.db', '{}' )
addDefaultFiles( '.env',
	[
		PORT='8000',
		TWITCHUSER='[YOUR-USERNAME-HERE]',
		OAUTH='[YOUR-OAUTH-PASS HERE] # e.g. NOT generated from /TMI A correct OAUTH variable will look like OAUTH=Bearer kjh12bn1hsj78445234',
		AZURE_KEY='[AZURE Key Here]',
		ClIENT_ID='[Client ID can be found on twitch developer dashboard]',
		OAUTH_2='[oauth key generated from /TMI with be in the format of oauth:xxxxxxxxx',
		OPENAI_API_KEY='open API key used for CHATGPT functionality',
        GOOGLE_API='API key generated in google cloud dashboard',
        ProjectID='Project-ID from google cloud translate',
		 
		'A correct .env file will look similiar to the lines below.',
		
		'PORT=443',
		'TWITCHUSER=twitchtranslatorbot',
		'OAUTH="Bearer Key not generated by TMI must have quotes with Bearer infront',
		'ClIENT_ID=thisisaclientid',
		'OAUTH_2=oauth:oauthkey',
		'AZURE_KEY=azurekey'



		
	].join( '\n' ) + '\n'
)

function addDefaultFiles( name, defaultContent ) {
	const filePath = path.join( basePath, name )
	if( !fs.existsSync( filePath ) ) {
		fs.writeFileSync( filePath, defaultContent )
	}
}
